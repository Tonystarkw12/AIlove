"use strict";const e=require("../../common/vendor.js"),t=require("../../common/assets.js"),a={__name:"chat",setup(a){const n=e.reactive({id:null,name:"å¯¹æ–¹",avatar:"/static/logo.png"}),o=e.ref("/static/my-avatar.png"),r=e.ref([]),i=e.ref(""),d=e.ref(0),s=e.ref(0),u=e.index.getSystemInfoSync().windowHeight,c=e.index.upx2px(100+e.index.getSystemInfoSync().statusBarHeight),l=e.index.upx2px(120),v=e.computed((()=>u-c-l-s.value));e.onLoad((t=>{t.userId&&(n.id=t.userId),t.name&&(n.name=decodeURIComponent(t.name),e.index.setNavigationBarTitle({title:n.name})),t.avatar&&(n.avatar=decodeURIComponent(t.avatar)),r.value.push({sender:"other",content:`ä½ å¥½ï¼Œæˆ‘æ˜¯${n.name}ï¼å¾ˆé«˜å…´è®¤è¯†ä½ ã€‚`}),h()})),e.onMounted((()=>{e.index.onKeyboardHeightChange((e=>{s.value=e.height,h()})),h()}));const m=e=>{h()},g=()=>{h()},p=()=>{if(!i.value.trim())return;r.value.push({sender:"me",content:i.value.trim()});const e=i.value.trim();i.value="",h(),setTimeout((()=>{let t="å—¯å—¯";e.includes("ä½ å¥½")?t="ä½ å¥½å‘€ï¼ðŸ˜Š":e.includes("åœ¨å—")?t="åœ¨çš„ï¼Œæœ‰ä»€ä¹ˆå¯ä»¥å¸®ä½ çš„å—ï¼Ÿ":e.includes("å¾®ä¿¡")?t="äº¤æ¢å¾®ä¿¡å¯ä»¥å‘€ï¼Œæˆ‘çš„å¾®ä¿¡å·æ˜¯ï¼šfake_wechat_id ðŸ˜‰":e.length>10&&(t="ä½ è¯´çš„å¥½æœ‰é“ç†ï¼"),r.value.push({sender:"other",content:t}),h()}),1e3+1e3*Math.random())},h=()=>{e.nextTick$1((()=>{d.value=r.value.length*e.index.upx2px(200)}))},x=()=>{e.index.navigateBack()};return(a,s)=>({a:t._imports_0$2,b:e.o(x),c:e.t(n.name||"èŠå¤©ä¸­"),d:e.f(r.value,((t,a,r)=>e.e({a:"other"===t.sender},"other"===t.sender?{b:n.avatar||"/static/logo.png"}:{},{c:e.t(t.content),d:"me"===t.sender},"me"===t.sender?{e:o.value||"/static/logo.png"}:{},{f:e.n("me"===t.sender?"sent":"received"),g:a}))),e:d.value,f:v.value+"px",g:e.o(p),h:e.o(m),i:e.o(g),j:i.value,k:e.o((e=>i.value=e.detail.value)),l:e.o(p),m:!i.value.trim()})}},n=e._export_sfc(a,[["__scopeId","data-v-fd0f303b"]]);wx.createPage(n);
